<template>
  <div class="flex flex-wrap block place-content-center align-middle content-center px-8 relative w-full">
    <div class="littleSidebar rounded-lg fixed flex flex-wrap p-2 place-content-center bg-white shadow-lg">
      <div class="littleSidebarItem rounded-lg my-2 place-content-center flex flex-wrap">
        <div class="flex my-1 littleSidebarIcon">
          <button @click="enlarge" :title="'放大'">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                 fill="none" version="1.1" width="24" height="24" viewBox="0 0 20 20">
              <g clip-path="url(#master_svg0_181_00893)"><g><g><path d="M4.00000415145874,9C4.00000415145874,6.23858,6.2385741514587405,4,9.00000415145874,4C11.76142415145874,4,14.00003415145874,6.23858,14.00003415145874,9C14.00003415145874,11.76142,11.76142415145874,14,9.00000415145874,14C6.2385741514587405,14,4.00000415145874,11.76142,4.00000415145874,9ZM9.00000415145874,2C4.222094151458741,1.999999523163,0.8483141514587402,6.68088,2.3592171514587403,11.21359C3.8701241514587403,15.7463,9.377674151458741,17.4667,13.20003415145874,14.6C13.22843415145874,14.6378,13.259534151458741,14.6736,13.293034151458741,14.707L16.29303415145874,17.707C16.68533415145874,18.086,17.30903415145874,18.0805,17.694834151458743,17.6948C18.08053415145874,17.3091,18.08593415145874,16.6854,17.707034151458743,16.293L14.70703415145874,13.293C14.67353415145874,13.2595,14.63783415145874,13.2284,14.60003415145874,13.2C16.190834151458738,11.07888,16.44673415145874,8.241,15.261034151458741,5.86951C14.07523415145874,3.49802,11.65140415145874,1.999999880791,9.00000415145874,2ZM8.00000415145874,6.5C8.00000415145874,5.94772,8.44771415145874,5.5,9.00000415145874,5.5C9.552284151458739,5.5,10.00000415145874,5.94772,10.00000415145874,6.5L10.00000415145874,8L11.50000415145874,8C12.05233415145874,8,12.50003415145874,8.44771,12.50003415145874,9C12.50003415145874,9.55229,12.05233415145874,10,11.50000415145874,10L10.00000415145874,10L10.00000415145874,11.5C10.00000415145874,12.0523,9.552284151458739,12.5,9.00000415145874,12.5C8.44771415145874,12.5,8.00000415145874,12.0523,8.00000415145874,11.5L8.00000415145874,10L6.50000415145874,10C5.94771415145874,10,5.50000415145874,9.55229,5.50000415145874,9C5.50000415145874,8.44771,5.94771415145874,8,6.50000415145874,8L8.00000415145874,8L8.00000415145874,6.5Z" fill-rule="evenodd" fill="#3D3D3D" fill-opacity="1"/></g></g></g>
            </svg>
          </button>
        </div>
        <div class="my-2" style="color: #878E97">
          {{ zoomLevel }}%
        </div>
        <div class="flex my-1 littleSidebarIcon" :title="'缩小'">
          <button @click="narrow">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                 fill="none" version="1.1" width="24" height="24" viewBox="0 0 20 20">
              <g clip-path="url(#master_svg0_181_00900)"><g><g><path d="M9,4.00000415145874C6.23858,4.00000415145874,4,6.2385741514587405,4,9.00000415145874C4,11.76142415145874,6.23858,14.00003415145874,9,14.00003415145874C11.76142,14.00003415145874,14,11.76142415145874,14,9.00000415145874C14,6.2385741514587405,11.76142,4.00000415145874,9,4.00000415145874ZM2,9.00000415145874C2.000000238419,4.222094151458741,6.68088,0.8483141514587402,11.21359,2.35921815145874C15.7463,3.8701241514587403,17.4667,9.377674151458741,14.6,13.20003415145874C14.6378,13.22843415145874,14.6736,13.259534151458741,14.707,13.293034151458741L17.707,16.29303415145874C18.086,16.68533415145874,18.0805,17.30903415145874,17.6948,17.694834151458743C17.3091,18.08053415145874,16.6854,18.08593415145874,16.293,17.707034151458743L13.293,14.70703415145874C13.2595,14.67353415145874,13.2284,14.63783415145874,13.2,14.60003415145874C11.07888,16.190834151458738,8.24099,16.44673415145874,5.8695,15.261034151458741C3.49802,14.07523415145874,1.999999880791,11.65140415145874,2,9.00000415145874ZM12.5,9.00000415145874C12.5,8.44771415145874,12.0523,8.00000415145874,11.5,8.00000415145874L6.5,8.00000415145874C5.94772,8.00000415145874,5.5,8.44771415145874,5.5,9.00000415145874C5.5,9.552284151458739,5.94772,10.00000415145874,6.5,10.00000415145874L11.5,10.00000415145874C12.0523,10.00000415145874,12.5,9.552284151458739,12.5,9.00000415145874Z" fill-rule="evenodd" fill="#878E97" fill-opacity="1"/></g></g></g>
            </svg>
          </button>
        </div>
      </div>

      <hr style="border: none; border-top: 1px solid #D8D8D8; height: 2px; width: 30px;" class="my-2"/>

      <div class="littleSidebarItem rounded-lg my-2 place-content-center flex flex-wrap">
        <div class="flex mt-1 mb-3 littleSidebarIcon" :title="'回到中心'">
          <button @click="backToCenter">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                 fill="none" version="1.1" width="24" height="24" viewBox="0 0 24 24">
              <g clip-path="url(#master_svg0_181_00931)"><g><g><path d="M21,16L21,18Q21,19.2427,20.1213,20.1213Q19.2427,21,18,21L16,21Q15.9015,21,15.8049,20.9808Q15.7083,20.9616,15.6173,20.9239Q15.5263,20.8862,15.4444,20.8315Q15.3625,20.7767,15.2929,20.7071Q15.2232,20.6375,15.1685,20.5556Q15.1138,20.4737,15.0761,20.3827Q15.0384,20.2917,15.0192,20.1951Q15,20.0985,15,20Q15,19.9015,15.0192,19.8049Q15.0384,19.7083,15.0761,19.6173Q15.1138,19.5263,15.1685,19.4444Q15.2232,19.3625,15.2929,19.2929Q15.3625,19.2232,15.4444,19.1685Q15.5263,19.113799999999998,15.6173,19.0761Q15.7083,19.0384,15.8049,19.019199999999998Q15.9015,19,16,19L18,19Q18.4142,19,18.7071,18.7071Q19,18.4142,19,18L19,16Q19,15.9015,19.019199999999998,15.8049Q19.0384,15.7083,19.0761,15.6173Q19.113799999999998,15.5263,19.1685,15.4444Q19.2232,15.3625,19.2929,15.2929Q19.3625,15.2232,19.4444,15.1685Q19.5263,15.1138,19.6173,15.0761Q19.7083,15.0384,19.8049,15.0192Q19.9015,15,20,15Q20.0985,15,20.1951,15.0192Q20.2917,15.0384,20.3827,15.0761Q20.4737,15.1138,20.5556,15.1685Q20.6375,15.2232,20.7071,15.2929Q20.7767,15.3625,20.8315,15.4444Q20.8862,15.5263,20.9239,15.6173Q20.9616,15.7083,20.9808,15.8049Q21,15.9015,21,16ZM19,8L19,6Q19,5.58578,18.7071,5.29289Q18.4142,5,18,5L16,5Q15.9015,5,15.8049,4.980785Q15.7083,4.96157,15.6173,4.923879Q15.5263,4.886188,15.4444,4.83147Q15.3625,4.776751,15.2929,4.707107Q15.2232,4.637463,15.1685,4.55557Q15.1138,4.473678,15.0761,4.382683Q15.0384,4.291689,15.0192,4.19509Q15,4.0984914,15,4Q15,3.9015086,15.0192,3.80491Q15.0384,3.708311,15.0761,3.617317Q15.1138,3.526322,15.1685,3.44443Q15.2232,3.362537,15.2929,3.292893Q15.3625,3.223249,15.4444,3.16853Q15.5263,3.1138120000000002,15.6173,3.076121Q15.7083,3.03843,15.8049,3.019215Q15.9015,3,16,3L18,3Q19.2427,3,20.1213,3.878683Q21,4.757357,21,6L21,8Q21,8.09849,20.9808,8.19509Q20.9616,8.29169,20.9239,8.38268Q20.8862,8.47368,20.8315,8.55557Q20.7767,8.63746,20.7071,8.70711Q20.6375,8.77675,20.5556,8.83147Q20.4737,8.88619,20.3827,8.92388Q20.2917,8.96157,20.1951,8.98078Q20.0985,9,20,9Q19.9015,9,19.8049,8.98078Q19.7083,8.96157,19.6173,8.92388Q19.5263,8.88619,19.4444,8.83147Q19.3625,8.77675,19.2929,8.70711Q19.2232,8.63746,19.1685,8.55557Q19.113799999999998,8.47368,19.0761,8.38268Q19.0384,8.29169,19.019199999999998,8.19509Q19,8.09849,19,8ZM5,16L5,18Q5,18.4142,5.29289,18.7071Q5.58578,19,6,19L8,19Q8.09849,19,8.19509,19.019199999999998Q8.29169,19.0384,8.38268,19.0761Q8.47368,19.113799999999998,8.55557,19.1685Q8.63746,19.2232,8.70711,19.2929Q8.77675,19.3625,8.83147,19.4444Q8.88619,19.5263,8.92388,19.6173Q8.96157,19.7083,8.98078,19.8049Q9,19.9015,9,20Q9,20.0985,8.98078,20.1951Q8.96157,20.2917,8.92388,20.3827Q8.88619,20.4737,8.83147,20.5556Q8.77675,20.6375,8.70711,20.7071Q8.63746,20.7767,8.55557,20.8315Q8.47368,20.8862,8.38268,20.9239Q8.29169,20.9616,8.19509,20.9808Q8.09849,21,8,21L6,21Q4.757356,21,3.878683,20.1213Q3,19.2427,3,18L3,16Q3,15.9015,3.019215,15.8049Q3.03843,15.7083,3.076121,15.6173Q3.1138120000000002,15.5263,3.16853,15.4444Q3.223249,15.3625,3.292893,15.2929Q3.362537,15.2232,3.44443,15.1685Q3.526322,15.1138,3.617317,15.0761Q3.708311,15.0384,3.80491,15.0192Q3.9015086,15,4,15Q4.0984914,15,4.19509,15.0192Q4.291689,15.0384,4.382683,15.0761Q4.473678,15.1138,4.55557,15.1685Q4.637463,15.2232,4.707107,15.2929Q4.776751,15.3625,4.83147,15.4444Q4.886188,15.5263,4.923879,15.6173Q4.96157,15.7083,4.980785,15.8049Q5,15.9015,5,16ZM3,8L3,6Q3,4.757359,3.87868,3.87868Q4.757359,3,6,3L8,3Q8.09849,3,8.19509,3.019215Q8.29169,3.03843,8.38268,3.076121Q8.47368,3.1138120000000002,8.55557,3.16853Q8.63746,3.223249,8.70711,3.292893Q8.77675,3.362537,8.83147,3.44443Q8.88619,3.526322,8.92388,3.617317Q8.96157,3.708311,8.98078,3.80491Q9,3.9015086,9,4Q9,4.0984914,8.98078,4.19509Q8.96157,4.291689,8.92388,4.382683Q8.88619,4.473678,8.83147,4.55557Q8.77675,4.637463,8.70711,4.707107Q8.63746,4.776751,8.55557,4.83147Q8.47368,4.886188,8.38268,4.923879Q8.29169,4.96157,8.19509,4.980785Q8.09849,5,8,5L6,5Q5.58579,5,5.29289,5.29289Q5,5.58579,5,6L5,8Q5,8.09849,4.980785,8.19509Q4.96157,8.29169,4.923879,8.38268Q4.886188,8.47368,4.83147,8.55557Q4.776751,8.63746,4.707107,8.70711Q4.637463,8.77675,4.55557,8.83147Q4.473678,8.88619,4.382683,8.92388Q4.291689,8.96157,4.19509,8.98078Q4.0984914,9,4,9Q3.9015086,9,3.80491,8.98078Q3.708311,8.96157,3.617317,8.92388Q3.526322,8.88619,3.44443,8.83147Q3.362537,8.77675,3.292893,8.70711Q3.223249,8.63746,3.16853,8.55557Q3.1138120000000002,8.47368,3.076121,8.38268Q3.03843,8.29169,3.019215,8.19509Q3,8.09849,3,8ZM12,8Q13.65689,8,14.8284,9.17156Q16,10.34311,16,12Q16,13.65689,14.8284,14.8284Q13.65689,16,12,16Q10.34311,16,9.17156,14.8284Q8,13.65689,8,12Q8,10.34311,9.17156,9.17156Q10.34311,8,12,8ZM12,10Q11.17154,10,10.58577,10.58577Q10,11.17154,10,12Q10,12.82846,10.58577,13.41423Q11.17154,14,12,14Q12.82846,14,13.41423,13.41423Q14,12.82846,14,12Q14,11.17154,13.41423,10.58577Q12.82846,10,12,10ZM17,20Q17,20.0985,16.980800000000002,20.1951Q16.9616,20.2917,16.9239,20.3827Q16.886200000000002,20.4737,16.8315,20.5556Q16.776699999999998,20.6375,16.7071,20.7071Q16.6375,20.7767,16.5556,20.8315Q16.4737,20.8862,16.3827,20.9239Q16.2917,20.9616,16.1951,20.9808Q16.0985,21,16,21Q15.9015,21,15.8049,20.9808Q15.7083,20.9616,15.6173,20.9239Q15.5263,20.8862,15.4444,20.8315Q15.3625,20.7767,15.2929,20.7071Q15.2232,20.6375,15.1685,20.5556Q15.1138,20.4737,15.0761,20.3827Q15.0384,20.2917,15.0192,20.1951Q15,20.0985,15,20Q15,19.9015,15.0192,19.8049Q15.0384,19.7083,15.0761,19.6173Q15.1138,19.5263,15.1685,19.4444Q15.2232,19.3625,15.2929,19.2929Q15.3625,19.2232,15.4444,19.1685Q15.5263,19.113799999999998,15.6173,19.0761Q15.7083,19.0384,15.8049,19.019199999999998Q15.9015,19,16,19Q16.0985,19,16.1951,19.019199999999998Q16.2917,19.0384,16.3827,19.0761Q16.4737,19.113799999999998,16.5556,19.1685Q16.6375,19.2232,16.7071,19.2929Q16.776699999999998,19.3625,16.8315,19.4444Q16.886200000000002,19.5263,16.9239,19.6173Q16.9616,19.7083,16.980800000000002,19.8049Q17,19.9015,17,20ZM5,16Q5,16.0985,4.980785,16.1951Q4.96157,16.2917,4.923879,16.3827Q4.886188,16.4737,4.83147,16.5556Q4.776751,16.6375,4.707107,16.7071Q4.637463,16.776699999999998,4.55557,16.8315Q4.473678,16.886200000000002,4.382683,16.9239Q4.291689,16.9616,4.19509,16.980800000000002Q4.0984914,17,4,17Q3.9015086,17,3.80491,16.980800000000002Q3.708311,16.9616,3.617317,16.9239Q3.526322,16.886200000000002,3.44443,16.8315Q3.362537,16.776699999999998,3.292893,16.7071Q3.223249,16.6375,3.16853,16.5556Q3.1138120000000002,16.4737,3.076121,16.3827Q3.03843,16.2917,3.019215,16.1951Q3,16.0985,3,16Q3,15.9015,3.019215,15.8049Q3.03843,15.7083,3.076121,15.6173Q3.1138120000000002,15.5263,3.16853,15.4444Q3.223249,15.3625,3.292893,15.2929Q3.362537,15.2232,3.44443,15.1685Q3.526322,15.1138,3.617317,15.0761Q3.708311,15.0384,3.80491,15.0192Q3.9015086,15,4,15Q4.0984914,15,4.19509,15.0192Q4.291689,15.0384,4.382683,15.0761Q4.473678,15.1138,4.55557,15.1685Q4.637463,15.2232,4.707107,15.2929Q4.776751,15.3625,4.83147,15.4444Q4.886188,15.5263,4.923879,15.6173Q4.96157,15.7083,4.980785,15.8049Q5,15.9015,5,16ZM21,16Q21,16.0985,20.9808,16.1951Q20.9616,16.2917,20.9239,16.3827Q20.8862,16.4737,20.8315,16.5556Q20.7767,16.6375,20.7071,16.7071Q20.6375,16.776699999999998,20.5556,16.8315Q20.4737,16.886200000000002,20.3827,16.9239Q20.2917,16.9616,20.1951,16.980800000000002Q20.0985,17,20,17Q19.9015,17,19.8049,16.980800000000002Q19.7083,16.9616,19.6173,16.9239Q19.5263,16.886200000000002,19.4444,16.8315Q19.3625,16.776699999999998,19.2929,16.7071Q19.2232,16.6375,19.1685,16.5556Q19.113799999999998,16.4737,19.0761,16.3827Q19.0384,16.2917,19.019199999999998,16.1951Q19,16.0985,19,16Q19,15.9015,19.019199999999998,15.8049Q19.0384,15.7083,19.0761,15.6173Q19.113799999999998,15.5263,19.1685,15.4444Q19.2232,15.3625,19.2929,15.2929Q19.3625,15.2232,19.4444,15.1685Q19.5263,15.1138,19.6173,15.0761Q19.7083,15.0384,19.8049,15.0192Q19.9015,15,20,15Q20.0985,15,20.1951,15.0192Q20.2917,15.0384,20.3827,15.0761Q20.4737,15.1138,20.5556,15.1685Q20.6375,15.2232,20.7071,15.2929Q20.7767,15.3625,20.8315,15.4444Q20.8862,15.5263,20.9239,15.6173Q20.9616,15.7083,20.9808,15.8049Q21,15.9015,21,16ZM9,20Q9,20.0985,8.98078,20.1951Q8.96157,20.2917,8.92388,20.3827Q8.88619,20.4737,8.83147,20.5556Q8.77675,20.6375,8.70711,20.7071Q8.63746,20.7767,8.55557,20.8315Q8.47368,20.8862,8.38268,20.9239Q8.29169,20.9616,8.19509,20.9808Q8.09849,21,8,21Q7.90151,21,7.80491,20.9808Q7.70831,20.9616,7.617319999999999,20.9239Q7.52632,20.8862,7.4444300000000005,20.8315Q7.36254,20.7767,7.29289,20.7071Q7.22325,20.6375,7.1685300000000005,20.5556Q7.11381,20.4737,7.0761199999999995,20.3827Q7.03843,20.2917,7.01921,20.1951Q7,20.0985,7,20Q7,19.9015,7.01921,19.8049Q7.03843,19.7083,7.0761199999999995,19.6173Q7.11381,19.5263,7.1685300000000005,19.4444Q7.22325,19.3625,7.29289,19.2929Q7.36254,19.2232,7.4444300000000005,19.1685Q7.52632,19.113799999999998,7.617319999999999,19.0761Q7.70831,19.0384,7.80491,19.019199999999998Q7.90151,19,8,19Q8.09849,19,8.19509,19.019199999999998Q8.29169,19.0384,8.38268,19.0761Q8.47368,19.113799999999998,8.55557,19.1685Q8.63746,19.2232,8.70711,19.2929Q8.77675,19.3625,8.83147,19.4444Q8.88619,19.5263,8.92388,19.6173Q8.96157,19.7083,8.98078,19.8049Q9,19.9015,9,20ZM17,4Q17,4.0984914,16.980800000000002,4.19509Q16.9616,4.291689,16.9239,4.382683Q16.886200000000002,4.473678,16.8315,4.55557Q16.776699999999998,4.637463,16.7071,4.707107Q16.6375,4.776751,16.5556,4.83147Q16.4737,4.886188,16.3827,4.923879Q16.2917,4.96157,16.1951,4.980785Q16.0985,5,16,5Q15.9015,5,15.8049,4.980785Q15.7083,4.96157,15.6173,4.923879Q15.5263,4.886188,15.4444,4.83147Q15.3625,4.776751,15.2929,4.707107Q15.2232,4.637463,15.1685,4.55557Q15.1138,4.473678,15.0761,4.382683Q15.0384,4.291689,15.0192,4.19509Q15,4.0984914,15,4Q15,3.9015086,15.0192,3.80491Q15.0384,3.708311,15.0761,3.617317Q15.1138,3.526322,15.1685,3.44443Q15.2232,3.362537,15.2929,3.292893Q15.3625,3.223249,15.4444,3.16853Q15.5263,3.1138120000000002,15.6173,3.076121Q15.7083,3.03843,15.8049,3.019215Q15.9015,3,16,3Q16.0985,3,16.1951,3.019215Q16.2917,3.03843,16.3827,3.076121Q16.4737,3.1138120000000002,16.5556,3.16853Q16.6375,3.223249,16.7071,3.292893Q16.776699999999998,3.362537,16.8315,3.44443Q16.886200000000002,3.526322,16.9239,3.617317Q16.9616,3.708311,16.980800000000002,3.80491Q17,3.9015086,17,4ZM5,8Q5,8.09849,4.980785,8.19509Q4.96157,8.29169,4.923879,8.38268Q4.886188,8.47368,4.83147,8.55557Q4.776751,8.63746,4.707107,8.70711Q4.637463,8.77675,4.55557,8.83147Q4.473678,8.88619,4.382683,8.92388Q4.291689,8.96157,4.19509,8.98078Q4.0984914,9,4,9Q3.9015086,9,3.80491,8.98078Q3.708311,8.96157,3.617317,8.92388Q3.526322,8.88619,3.44443,8.83147Q3.362537,8.77675,3.292893,8.70711Q3.223249,8.63746,3.16853,8.55557Q3.1138120000000002,8.47368,3.076121,8.38268Q3.03843,8.29169,3.019215,8.19509Q3,8.09849,3,8Q3,7.90151,3.019215,7.80491Q3.03843,7.70831,3.076121,7.617319999999999Q3.1138120000000002,7.52632,3.16853,7.4444300000000005Q3.223249,7.36254,3.292893,7.29289Q3.362537,7.22325,3.44443,7.1685300000000005Q3.526322,7.11381,3.617317,7.0761199999999995Q3.708311,7.03843,3.80491,7.01921Q3.9015086,7,4,7Q4.0984914,7,4.19509,7.01921Q4.291689,7.03843,4.382683,7.0761199999999995Q4.473678,7.11381,4.55557,7.1685300000000005Q4.637463,7.22325,4.707107,7.29289Q4.776751,7.36254,4.83147,7.4444300000000005Q4.886188,7.52632,4.923879,7.617319999999999Q4.96157,7.70831,4.980785,7.80491Q5,7.90151,5,8ZM21,8Q21,8.09849,20.9808,8.19509Q20.9616,8.29169,20.9239,8.38268Q20.8862,8.47368,20.8315,8.55557Q20.7767,8.63746,20.7071,8.70711Q20.6375,8.77675,20.5556,8.83147Q20.4737,8.88619,20.3827,8.92388Q20.2917,8.96157,20.1951,8.98078Q20.0985,9,20,9Q19.9015,9,19.8049,8.98078Q19.7083,8.96157,19.6173,8.92388Q19.5263,8.88619,19.4444,8.83147Q19.3625,8.77675,19.2929,8.70711Q19.2232,8.63746,19.1685,8.55557Q19.113799999999998,8.47368,19.0761,8.38268Q19.0384,8.29169,19.019199999999998,8.19509Q19,8.09849,19,8Q19,7.90151,19.019199999999998,7.80491Q19.0384,7.70831,19.0761,7.617319999999999Q19.113799999999998,7.52632,19.1685,7.4444300000000005Q19.2232,7.36254,19.2929,7.29289Q19.3625,7.22325,19.4444,7.1685300000000005Q19.5263,7.11381,19.6173,7.0761199999999995Q19.7083,7.03843,19.8049,7.01921Q19.9015,7,20,7Q20.0985,7,20.1951,7.01921Q20.2917,7.03843,20.3827,7.0761199999999995Q20.4737,7.11381,20.5556,7.1685300000000005Q20.6375,7.22325,20.7071,7.29289Q20.7767,7.36254,20.8315,7.4444300000000005Q20.8862,7.52632,20.9239,7.617319999999999Q20.9616,7.70831,20.9808,7.80491Q21,7.90151,21,8ZM9,4Q9,4.0984914,8.98078,4.19509Q8.96157,4.291689,8.92388,4.382683Q8.88619,4.473678,8.83147,4.55557Q8.77675,4.637463,8.70711,4.707107Q8.63746,4.776751,8.55557,4.83147Q8.47368,4.886188,8.38268,4.923879Q8.29169,4.96157,8.19509,4.980785Q8.09849,5,8,5Q7.90151,5,7.80491,4.980785Q7.70831,4.96157,7.617319999999999,4.923879Q7.52632,4.886188,7.4444300000000005,4.83147Q7.36254,4.776751,7.29289,4.707107Q7.22325,4.637463,7.1685300000000005,4.55557Q7.11381,4.473678,7.0761199999999995,4.382683Q7.03843,4.291689,7.01921,4.19509Q7,4.0984914,7,4Q7,3.9015086,7.01921,3.80491Q7.03843,3.708311,7.0761199999999995,3.617317Q7.11381,3.526322,7.1685300000000005,3.44443Q7.22325,3.362537,7.29289,3.292893Q7.36254,3.223249,7.4444300000000005,3.16853Q7.52632,3.1138120000000002,7.617319999999999,3.076121Q7.70831,3.03843,7.80491,3.019215Q7.90151,3,8,3Q8.09849,3,8.19509,3.019215Q8.29169,3.03843,8.38268,3.076121Q8.47368,3.1138120000000002,8.55557,3.16853Q8.63746,3.223249,8.70711,3.292893Q8.77675,3.362537,8.83147,3.44443Q8.88619,3.526322,8.92388,3.617317Q8.96157,3.708311,8.98078,3.80491Q9,3.9015086,9,4Z" fill="#000000" fill-opacity="1"/></g></g></g>
            </svg>
          </button>
        </div>

        <div class="flex mt-2 mb-3 littleSidebarIcon" :title="'导图结构'">
          <button @click="selectStructure">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                 fill="none" version="1.1" width="24" height="24" viewBox="0 0 20 20">
              <g clip-path="url(#master_svg0_181_00907)"><g><g><g><g><g><path d="M10.833336984558105,12.500043505859376L17.499966984558107,12.500043505859376C17.960266984558107,12.500043505859376,18.333366984558104,12.126943505859375,18.333366984558104,11.666643505859374L18.333366984558104,8.333343505859375C18.333366984558104,7.873103505859375,17.960266984558107,7.500013505859375,17.499966984558107,7.500013505859375L10.833336984558105,7.500013505859375C10.373096984558105,7.500013505859375,9.999996984558106,7.873103505859375,9.999996984558106,8.333343505859375L9.999996984558106,9.166673505859375L6.6666669845581055,9.166673505859375L6.6666669845581055,5.833343505859375L9.166666984558105,5.833343505859375C9.626906984558104,5.833343505859375,9.999996984558106,5.460243505859375,9.999996984558106,5.000013505859375L9.999996984558106,1.666676505859375C9.999996984558106,1.2064395058593749,9.626906984558104,0.833343505859375,9.166666984558105,0.833343505859375L2.4999999845581056,0.833343505859375C2.0397629845581053,0.833343505859375,1.6666669845581055,1.2064395058593749,1.6666669845581055,1.666676505859375L1.6666669845581055,5.000013505859375C1.6666669845581055,5.460243505859375,2.0397629845581053,5.833343505859375,2.4999999845581056,5.833343505859375L4.999996984558106,5.833343505859375L4.999996984558106,16.666643505859376C4.999996984558106,17.126943505859376,5.373096984558106,17.500043505859374,5.833336984558105,17.500043505859374L9.999996984558106,17.500043505859374L9.999996984558106,18.333343505859375C9.999996984558106,18.793543505859375,10.373096984558105,19.166643505859376,10.833336984558105,19.166643505859376L17.499966984558107,19.166643505859376C17.960266984558107,19.166643505859376,18.333366984558104,18.793543505859375,18.333366984558104,18.333343505859375L18.333366984558104,15.000043505859376C18.333366984558104,14.539743505859375,17.960266984558107,14.166643505859374,17.499966984558107,14.166643505859374L10.833336984558105,14.166643505859374C10.373096984558105,14.166643505859374,9.999996984558106,14.539743505859375,9.999996984558106,15.000043505859376L9.999996984558106,15.833343505859375L6.6666669845581055,15.833343505859375L6.6666669845581055,10.833343505859375L9.999996984558106,10.833343505859375L9.999996984558106,11.666643505859374C9.999996984558106,12.126943505859375,10.373096984558105,12.500043505859376,10.833336984558105,12.500043505859376Z" fill="#878E97" fill-opacity="1"/></g></g></g></g></g></g>
            </svg>
          </button>
        </div>

        <div class="flex my-1 littleSidebarIcon" :title="'展开到...'">
          <button @click="selectLevel">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" version="1.1" width="24" height="24" viewBox="0 0 20 20">
              <g clip-path="url(#master_svg0_181_00918)"><g><g><path d="M3.3332834243774414,3.583343505859375L16.666583424377443,3.583343505859375Q16.765083424377444,3.583343505859375,16.86168342437744,3.602558505859375Q16.95828342437744,3.621773505859375,17.049283424377442,3.659464505859375Q17.140283424377444,3.6971555058593752,17.22218342437744,3.751873505859375Q17.304083424377442,3.806592505859375,17.37368342437744,3.876236505859375Q17.44338342437744,3.945880505859375,17.49808342437744,4.027773505859375Q17.55278342437744,4.109665505859375,17.59048342437744,4.200660505859375Q17.62818342437744,4.291654505859375,17.64738342437744,4.388253505859375Q17.666583424377443,4.484852105859375,17.666583424377443,4.583343505859375Q17.666583424377443,4.681834905859375,17.64738342437744,4.778433505859375Q17.62818342437744,4.875032505859375,17.59048342437744,4.966026505859375Q17.55278342437744,5.057021505859375,17.49808342437744,5.138913505859375Q17.44338342437744,5.220806505859375,17.37368342437744,5.290450505859375Q17.304083424377442,5.360094505859375,17.22218342437744,5.414813505859375Q17.140283424377444,5.469531505859375,17.049283424377442,5.507222505859375Q16.95828342437744,5.544913505859375,16.86168342437744,5.564128505859375Q16.765083424377444,5.583343505859375,16.666583424377443,5.583343505859375L3.3332834243774414,5.583343505859375Q3.2347920243774415,5.583343505859375,3.1381934243774414,5.564128505859375Q3.0415944243774415,5.544913505859375,2.9506004243774413,5.507222505859375Q2.8596054243774414,5.469531505859375,2.7777134243774415,5.414813505859375Q2.6958204243774415,5.360094505859375,2.6261764243774413,5.290450505859375Q2.5565324243774414,5.220806505859375,2.5018134243774415,5.138913505859375Q2.4470954243774417,5.057021505859375,2.4094044243774415,4.966026505859375Q2.3717134243774414,4.875032505859375,2.3524984243774414,4.778433505859375Q2.3332834243774414,4.681834905859375,2.3332834243774414,4.583343505859375Q2.3332834243774414,4.484852105859375,2.3524984243774414,4.388253505859375Q2.3717134243774414,4.291654505859375,2.4094044243774415,4.200660505859375Q2.4470954243774417,4.109665505859375,2.5018134243774415,4.027773505859375Q2.5565324243774414,3.945880505859375,2.6261764243774413,3.876236505859375Q2.6958204243774415,3.806592505859375,2.7777134243774415,3.751873505859375Q2.8596054243774414,3.6971555058593752,2.9506004243774413,3.659464505859375Q3.0415944243774415,3.621773505859375,3.1381934243774414,3.602558505859375Q3.2347920243774415,3.583343505859375,3.3332834243774414,3.583343505859375ZM16.666583424377443,11.000003505859375L3.3332834243774414,11.000003505859375Q3.2347920243774415,11.000003505859375,3.1381934243774414,10.980783505859375Q3.0415944243774415,10.961573505859375,2.9506004243774413,10.923873505859376Q2.8596054243774414,10.886183505859375,2.7777134243774415,10.831473505859375Q2.6958204243774415,10.776753505859375,2.6261764243774413,10.707103505859376Q2.5565324243774414,10.637463505859376,2.5018134243774415,10.555573505859375Q2.4470954243774417,10.473673505859374,2.4094044243774415,10.382683505859376Q2.3717134243774414,10.291693505859374,2.3524984243774414,10.195093505859376Q2.3332834243774414,10.098493505859375,2.3332834243774414,10.000003505859375Q2.3332834243774414,9.901503505859374,2.3524984243774414,9.804913505859375Q2.3717134243774414,9.708313505859376,2.4094044243774415,9.617313505859375Q2.4470954243774417,9.526323505859375,2.5018134243774415,9.444433505859376Q2.5565324243774414,9.362533505859375,2.6261764243774413,9.292893505859375Q2.6958204243774415,9.223253505859375,2.7777134243774415,9.168533505859376Q2.8596054243774414,9.113813505859376,2.9506004243774413,9.076123505859375Q3.0415944243774415,9.038433505859375,3.1381934243774414,9.019213505859376Q3.2347920243774415,9.000003505859375,3.3332834243774414,9.000003505859375L16.666583424377443,9.000003505859375Q16.765083424377444,9.000003505859375,16.86168342437744,9.019213505859376Q16.95828342437744,9.038433505859375,17.049283424377442,9.076123505859375Q17.140283424377444,9.113813505859376,17.22218342437744,9.168533505859376Q17.304083424377442,9.223253505859375,17.37368342437744,9.292893505859375Q17.44338342437744,9.362533505859375,17.49808342437744,9.444433505859376Q17.55278342437744,9.526323505859375,17.59048342437744,9.617313505859375Q17.62818342437744,9.708313505859376,17.64738342437744,9.804913505859375Q17.666583424377443,9.901503505859374,17.666583424377443,10.000003505859375Q17.666583424377443,10.098493505859375,17.64738342437744,10.195093505859376Q17.62818342437744,10.291693505859374,17.59048342437744,10.382683505859376Q17.55278342437744,10.473673505859374,17.49808342437744,10.555573505859375Q17.44338342437744,10.637463505859376,17.37368342437744,10.707103505859376Q17.304083424377442,10.776753505859375,17.22218342437744,10.831473505859375Q17.140283424377444,10.886183505859375,17.049283424377442,10.923883505859376Q16.95828342437744,10.961573505859375,16.86168342437744,10.980783505859375Q16.765083424377444,11.000003505859375,16.666583424377443,11.000003505859375ZM16.666583424377443,16.416643505859376L3.3332834243774414,16.416643505859376Q3.2347920243774415,16.416643505859376,3.1381934243774414,16.397443505859375Q3.0415944243774415,16.378243505859373,2.9506004243774413,16.340543505859372Q2.8596054243774414,16.302843505859375,2.7777134243774415,16.248143505859375Q2.6958204243774415,16.193443505859374,2.6261764243774413,16.123743505859373Q2.5565324243774414,16.054143505859376,2.5018134243774415,15.972243505859375Q2.4470954243774417,15.890343505859375,2.4094044243774415,15.799343505859374Q2.3717134243774414,15.708343505859375,2.3524984243774414,15.611743505859375Q2.3332834243774414,15.515143505859376,2.3332834243774414,15.416643505859374Q2.3332834243774414,15.318143505859375,2.3524984243774414,15.221543505859374Q2.3717134243774414,15.124943505859376,2.4094044243774415,15.033943505859375Q2.4470954243774417,14.942943505859375,2.5018134243774415,14.861043505859374Q2.5565324243774414,14.779143505859375,2.6261764243774413,14.709543505859376Q2.6958204243774415,14.639943505859375,2.7777134243774415,14.585143505859374Q2.8596054243774414,14.530463505859375,2.9506004243774413,14.492773505859375Q3.0415944243774415,14.455083505859376,3.1381934243774414,14.435873505859375Q3.2347920243774415,14.416653505859376,3.3332834243774414,14.416653505859376L16.666583424377443,14.416653505859376Q16.765083424377444,14.416653505859376,16.86168342437744,14.435873505859375Q16.95828342437744,14.455083505859376,17.049283424377442,14.492773505859375Q17.140283424377444,14.530463505859375,17.22218342437744,14.585143505859374Q17.304083424377442,14.639943505859375,17.37368342437744,14.709543505859376Q17.44338342437744,14.779143505859375,17.49808342437744,14.861043505859374Q17.55278342437744,14.942943505859375,17.59048342437744,15.033943505859375Q17.62818342437744,15.124943505859376,17.64738342437744,15.221543505859374Q17.666583424377443,15.318143505859375,17.666583424377443,15.416643505859374Q17.666583424377443,15.515143505859376,17.64738342437744,15.611743505859375Q17.62818342437744,15.708343505859375,17.59048342437744,15.799343505859374Q17.55278342437744,15.890343505859375,17.49808342437744,15.972243505859375Q17.44338342437744,16.054143505859376,17.37368342437744,16.123743505859373Q17.304083424377442,16.193443505859374,17.22218342437744,16.248143505859375Q17.140283424377444,16.302843505859375,17.049283424377442,16.340543505859372Q16.95828342437744,16.378243505859373,16.86168342437744,16.397443505859375Q16.765083424377444,16.416643505859376,16.666583424377443,16.416643505859376ZM6.397363424377442,8.350073505859374L4.040400424377442,10.707093505859376L3.3332834243774414,10.000003505859375L4.040405424377441,9.292903505859375L6.397363424377442,11.649963505859375Q6.467003424377442,11.719613505859375,6.521723424377441,11.801503505859376Q6.576443424377441,11.883403505859375,6.6141334243774415,11.974393505859375Q6.651823424377442,12.065393505859376,6.671033424377441,12.161983505859375Q6.690243424377441,12.258583505859374,6.690243424377441,12.357083505859375Q6.690243424377441,12.455573505859375,6.671023424377442,12.552173505859376Q6.651803424377441,12.648763505859375,6.614113424377441,12.739763505859376Q6.576423424377442,12.830753505859375,6.521703424377441,12.912643505859375Q6.466983424377442,12.994533505859375,6.397333424377441,13.064183505859376Q6.327693424377442,13.133823505859375,6.245793424377442,13.188543505859375Q6.163903424377441,13.243253505859375,6.072903424377442,13.280943505859375Q5.981913424377441,13.318633505859376,5.885313424377442,13.337843505859375Q5.788713424377441,13.357063505859376,5.690223424377441,13.357053505859374Q5.591733424377441,13.357053505859374,5.495133424377441,13.337843505859375Q5.398533424377441,13.318623505859374,5.3075434243774415,13.280933505859375Q5.216543424377441,13.243233505859376,5.134653424377442,13.188513505859374Q5.052763424377441,13.133793505859375,4.983123424377442,13.064153505859375L2.6261614243774414,10.707093505859376Q2.5565204243774415,10.637443505859375,2.5018044243774415,10.555553505859375Q2.4470884243774416,10.473663505859374,2.4093994243774413,10.382673505859376Q2.3717104243774414,10.291683505859375,2.3524964243774416,10.195083505859376Q2.3332834243774414,10.098483505859374,2.3332834243774414,9.999993505859376Q2.3332834243774414,9.901503505859374,2.3524984243774414,9.804913505859375Q2.3717124243774412,9.708313505859376,2.4094024243774417,9.617323505859375Q2.4470914243774415,9.526333505859375,2.501808424377441,9.444433505859376Q2.5565254243774413,9.362543505859374,2.626166424377441,9.292903505859375L4.983123424377442,6.935873505859375Q5.052763424377441,6.866233505859375,5.134663424377441,6.811513505859375Q5.216553424377441,6.756793505859375,5.3075434243774415,6.719103505859374Q5.398543424377442,6.681403505859375,5.495133424377441,6.662193505859375Q5.591733424377441,6.642973505859375,5.690223424377441,6.642973505859375Q5.788723424377441,6.642973505859375,5.885323424377441,6.662183505859375Q5.981913424377441,6.681403505859375,6.072913424377441,6.719093505859375Q6.163903424377441,6.756783505859374,6.245803424377442,6.811493505859374Q6.327693424377442,6.866213505859375,6.397343424377441,6.9358535058593755Q6.466983424377442,7.005503505859375,6.521703424377441,7.087393505859374Q6.576423424377442,7.169283505859375,6.614113424377441,7.2602735058593755Q6.651803424377441,7.351273505859375,6.671023424377442,7.447873505859375Q6.690243424377441,7.544473505859375,6.690243424377441,7.642963505859375Q6.690243424377441,7.741453505859376,6.671033424377441,7.838053505859375Q6.651813424377441,7.934653505859375,6.614123424377441,8.025643505859374Q6.576433424377441,8.116643505859376,6.521723424377441,8.198533505859375Q6.467003424377442,8.280423505859375,6.397363424377442,8.350073505859374ZM17.666583424377443,4.583343505859375Q17.666583424377443,4.681834905859375,17.64738342437744,4.778433505859375Q17.62818342437744,4.875032505859375,17.59048342437744,4.966026505859375Q17.55278342437744,5.057021505859375,17.49808342437744,5.138913505859375Q17.44338342437744,5.220806505859375,17.37368342437744,5.290450505859375Q17.304083424377442,5.360094505859375,17.22218342437744,5.414813505859375Q17.140283424377444,5.469531505859375,17.049283424377442,5.507222505859375Q16.95828342437744,5.544913505859375,16.86168342437744,5.564128505859375Q16.765083424377444,5.583343505859375,16.666583424377443,5.583343505859375Q16.56808342437744,5.583343505859375,16.47148342437744,5.564128505859375Q16.374883424377444,5.544913505859375,16.283883424377443,5.507222505859375Q16.19298342437744,5.469531505859375,16.11108342437744,5.414813505859375Q16.029183424377443,5.360094505859375,15.959483424377442,5.290450505859375Q15.889883424377441,5.220806505859375,15.83518342437744,5.138913505859375Q15.780383424377442,5.057021505859375,15.742783424377441,4.966026505859375Q15.705083424377442,4.875032505859375,15.68578342437744,4.778433505859375Q15.666583424377441,4.681834905859375,15.666583424377441,4.583343505859375Q15.666583424377441,4.484852105859375,15.68578342437744,4.388253505859375Q15.705083424377442,4.291654505859375,15.742783424377441,4.200660505859375Q15.780383424377442,4.109665505859375,15.83518342437744,4.027773505859375Q15.889883424377441,3.945880505859375,15.959483424377442,3.876236505859375Q16.029183424377443,3.806592505859375,16.11108342437744,3.751873505859375Q16.19298342437744,3.6971555058593752,16.283883424377443,3.659464505859375Q16.374883424377444,3.621773505859375,16.47148342437744,3.602558505859375Q16.56808342437744,3.583343505859375,16.666583424377443,3.583343505859375Q16.765083424377444,3.583343505859375,16.86168342437744,3.602558505859375Q16.95828342437744,3.621773505859375,17.049283424377442,3.659464505859375Q17.140283424377444,3.6971555058593752,17.22218342437744,3.751873505859375Q17.304083424377442,3.806592505859375,17.37368342437744,3.876236505859375Q17.44338342437744,3.945880505859375,17.49808342437744,4.027773505859375Q17.55278342437744,4.109665505859375,17.59048342437744,4.200660505859375Q17.62818342437744,4.291654505859375,17.64738342437744,4.388253505859375Q17.666583424377443,4.484852105859375,17.666583424377443,4.583343505859375ZM17.666583424377443,10.000003505859375Q17.666583424377443,10.098493505859375,17.64738342437744,10.195093505859376Q17.62818342437744,10.291693505859374,17.59048342437744,10.382683505859376Q17.55278342437744,10.473673505859374,17.49808342437744,10.555573505859375Q17.44338342437744,10.637463505859376,17.37368342437744,10.707103505859376Q17.304083424377442,10.776753505859375,17.22218342437744,10.831473505859375Q17.140283424377444,10.886183505859375,17.049283424377442,10.923883505859376Q16.95828342437744,10.961573505859375,16.86168342437744,10.980783505859375Q16.765083424377444,11.000003505859375,16.666583424377443,11.000003505859375Q16.56808342437744,11.000003505859375,16.47148342437744,10.980783505859375Q16.374883424377444,10.961573505859375,16.283883424377443,10.923873505859376Q16.19298342437744,10.886183505859375,16.11108342437744,10.831473505859375Q16.029183424377443,10.776753505859375,15.959483424377442,10.707103505859376Q15.889883424377441,10.637463505859376,15.83518342437744,10.555573505859375Q15.780383424377442,10.473673505859374,15.742783424377441,10.382683505859376Q15.705083424377442,10.291693505859374,15.68578342437744,10.195093505859376Q15.666583424377441,10.098493505859375,15.666583424377441,10.000003505859375Q15.666583424377441,9.901503505859374,15.68578342437744,9.804913505859375Q15.705083424377442,9.708313505859376,15.742783424377441,9.617313505859375Q15.780383424377442,9.526323505859375,15.83518342437744,9.444433505859376Q15.889883424377441,9.362533505859375,15.959483424377442,9.292893505859375Q16.029183424377443,9.223253505859375,16.11108342437744,9.168533505859376Q16.19298342437744,9.113813505859376,16.283883424377443,9.076123505859375Q16.374883424377444,9.038433505859375,16.47148342437744,9.019213505859376Q16.56808342437744,9.000003505859375,16.666583424377443,9.000003505859375Q16.765083424377444,9.000003505859375,16.86168342437744,9.019213505859376Q16.95828342437744,9.038433505859375,17.049283424377442,9.076123505859375Q17.140283424377444,9.113813505859376,17.22218342437744,9.168533505859376Q17.304083424377442,9.223253505859375,17.37368342437744,9.292893505859375Q17.44338342437744,9.362533505859375,17.49808342437744,9.444433505859376Q17.55278342437744,9.526323505859375,17.59048342437744,9.617313505859375Q17.62818342437744,9.708313505859376,17.64738342437744,9.804913505859375Q17.666583424377443,9.901503505859374,17.666583424377443,10.000003505859375ZM4.333283424377441,4.583343505859375Q4.333283424377441,4.681834905859375,4.314068424377441,4.778433505859375Q4.294853424377441,4.875032505859375,4.257162424377442,4.966026505859375Q4.219471424377441,5.057021505859375,4.164753424377442,5.138913505859375Q4.110034424377441,5.220806505859375,4.040390424377441,5.290450505859375Q3.9707464243774413,5.360094505859375,3.8888534243774413,5.414813505859375Q3.8069614243774414,5.469531505859375,3.7159664243774415,5.507222505859375Q3.6249724243774413,5.544913505859375,3.5283734243774414,5.564128505859375Q3.4317748243774413,5.583343505859375,3.3332834243774414,5.583343505859375Q3.2347920243774415,5.583343505859375,3.1381934243774414,5.564128505859375Q3.0415944243774415,5.544913505859375,2.9506004243774413,5.507222505859375Q2.8596054243774414,5.469531505859375,2.7777134243774415,5.414813505859375Q2.6958204243774415,5.360094505859375,2.6261764243774413,5.290450505859375Q2.5565324243774414,5.220806505859375,2.5018134243774415,5.138913505859375Q2.4470954243774417,5.057021505859375,2.4094044243774415,4.966026505859375Q2.3717134243774414,4.875032505859375,2.3524984243774414,4.778433505859375Q2.3332834243774414,4.681834905859375,2.3332834243774414,4.583343505859375Q2.3332834243774414,4.484852105859375,2.3524984243774414,4.388253505859375Q2.3717134243774414,4.291654505859375,2.4094044243774415,4.200660505859375Q2.4470954243774417,4.109665505859375,2.5018134243774415,4.027773505859375Q2.5565324243774414,3.945880505859375,2.6261764243774413,3.876236505859375Q2.6958204243774415,3.806592505859375,2.7777134243774415,3.751873505859375Q2.8596054243774414,3.6971555058593752,2.9506004243774413,3.659464505859375Q3.0415944243774415,3.621773505859375,3.1381934243774414,3.602558505859375Q3.2347920243774415,3.583343505859375,3.3332834243774414,3.583343505859375Q3.4317748243774413,3.583343505859375,3.5283734243774414,3.602558505859375Q3.6249724243774413,3.621773505859375,3.7159664243774415,3.659464505859375Q3.8069614243774414,3.6971555058593752,3.8888534243774413,3.751873505859375Q3.9707464243774413,3.806592505859375,4.040390424377441,3.876236505859375Q4.110034424377441,3.945880505859375,4.164753424377442,4.027773505859375Q4.219471424377441,4.109665505859375,4.257162424377442,4.200660505859375Q4.294853424377441,4.291654505859375,4.314068424377441,4.388253505859375Q4.333283424377441,4.484852105859375,4.333283424377441,4.583343505859375ZM17.666583424377443,15.416643505859374Q17.666583424377443,15.515143505859376,17.64738342437744,15.611743505859375Q17.62818342437744,15.708343505859375,17.59048342437744,15.799343505859374Q17.55278342437744,15.890343505859375,17.49808342437744,15.972243505859375Q17.44338342437744,16.054143505859376,17.37368342437744,16.123743505859373Q17.304083424377442,16.193443505859374,17.22218342437744,16.248143505859375Q17.140283424377444,16.302843505859375,17.049283424377442,16.340543505859372Q16.95828342437744,16.378243505859373,16.86168342437744,16.397443505859375Q16.765083424377444,16.416643505859376,16.666583424377443,16.416643505859376Q16.56808342437744,16.416643505859376,16.47148342437744,16.397443505859375Q16.374883424377444,16.378243505859373,16.283883424377443,16.340543505859372Q16.19298342437744,16.302843505859375,16.11108342437744,16.248143505859375Q16.029183424377443,16.193443505859374,15.959483424377442,16.123743505859373Q15.889883424377441,16.054143505859376,15.83518342437744,15.972243505859375Q15.780383424377442,15.890343505859375,15.742783424377441,15.799343505859374Q15.705083424377442,15.708343505859375,15.68578342437744,15.611743505859375Q15.666583424377441,15.515143505859376,15.666583424377441,15.416643505859374Q15.666583424377441,15.318143505859375,15.68578342437744,15.221543505859374Q15.705083424377442,15.124943505859376,15.742783424377441,15.033943505859375Q15.780383424377442,14.942943505859375,15.83518342437744,14.861043505859374Q15.889883424377441,14.779143505859375,15.959483424377442,14.709543505859376Q16.029183424377443,14.639943505859375,16.11108342437744,14.585143505859374Q16.19298342437744,14.530463505859375,16.283883424377443,14.492773505859375Q16.374883424377444,14.455083505859376,16.47148342437744,14.435873505859375Q16.56808342437744,14.416653505859376,16.666583424377443,14.416653505859376Q16.765083424377444,14.416653505859376,16.86168342437744,14.435873505859375Q16.95828342437744,14.455083505859376,17.049283424377442,14.492773505859375Q17.140283424377444,14.530463505859375,17.22218342437744,14.585143505859374Q17.304083424377442,14.639943505859375,17.37368342437744,14.709543505859376Q17.44338342437744,14.779143505859375,17.49808342437744,14.861043505859374Q17.55278342437744,14.942943505859375,17.59048342437744,15.033943505859375Q17.62818342437744,15.124943505859376,17.64738342437744,15.221543505859374Q17.666583424377443,15.318143505859375,17.666583424377443,15.416643505859374ZM4.333283424377441,15.416643505859374Q4.333283424377441,15.515143505859376,4.314068424377441,15.611743505859375Q4.294853424377441,15.708343505859375,4.257162424377442,15.799343505859374Q4.219471424377441,15.890343505859375,4.164753424377442,15.972243505859375Q4.110034424377441,16.054143505859376,4.040390424377441,16.123743505859373Q3.9707464243774413,16.193443505859374,3.8888534243774413,16.248143505859375Q3.8069614243774414,16.302843505859375,3.7159664243774415,16.340543505859372Q3.6249724243774413,16.378243505859373,3.5283734243774414,16.397443505859375Q3.4317748243774413,16.416643505859376,3.3332834243774414,16.416643505859376Q3.2347920243774415,16.416643505859376,3.1381934243774414,16.397443505859375Q3.0415944243774415,16.378243505859373,2.9506004243774413,16.340543505859372Q2.8596054243774414,16.302843505859375,2.7777134243774415,16.248143505859375Q2.6958204243774415,16.193443505859374,2.6261764243774413,16.123743505859373Q2.5565324243774414,16.054143505859376,2.5018134243774415,15.972243505859375Q2.4470954243774417,15.890343505859375,2.4094044243774415,15.799343505859374Q2.3717134243774414,15.708343505859375,2.3524984243774414,15.611743505859375Q2.3332834243774414,15.515143505859376,2.3332834243774414,15.416643505859374Q2.3332834243774414,15.318143505859375,2.3524984243774414,15.221543505859374Q2.3717134243774414,15.124943505859376,2.4094044243774415,15.033943505859375Q2.4470954243774417,14.942943505859375,2.5018134243774415,14.861043505859374Q2.5565324243774414,14.779143505859375,2.6261764243774413,14.709543505859376Q2.6958204243774415,14.639943505859375,2.7777134243774415,14.585143505859374Q2.8596054243774414,14.530463505859375,2.9506004243774413,14.492773505859375Q3.0415944243774415,14.455083505859376,3.1381934243774414,14.435873505859375Q3.2347920243774415,14.416653505859376,3.3332834243774414,14.416653505859376Q3.4317748243774413,14.416653505859376,3.5283734243774414,14.435873505859375Q3.6249724243774413,14.455083505859376,3.7159664243774415,14.492773505859375Q3.8069614243774414,14.530463505859375,3.8888534243774413,14.585143505859374Q3.9707464243774413,14.639943505859375,4.040390424377441,14.709543505859376Q4.110034424377441,14.779143505859375,4.164753424377442,14.861043505859374Q4.219471424377441,14.942943505859375,4.257162424377442,15.033943505859375Q4.294853424377441,15.124943505859376,4.314068424377441,15.221543505859374Q4.333283424377441,15.318143505859375,4.333283424377441,15.416643505859374Z" fill="#878E97" fill-opacity="1"/></g></g></g>
            </svg>
          </button>
        </div>

        <div class="contextMenu rounded-md shadow-lg px-4 py-2"
             v-if="dropdownShow"
             :style="{ left: menuLeft + 'px', top: menuTop + 'px' }">
          <template v-if="dropdownType === 'structure'">
            <div class="contextMenuItem" @click="setStructure(index)"
                 v-for="(structure, index) in structures" :key="structure">
              {{ structure }}
            </div>
          </template>
          <template v-if="dropdownType === 'level'">
            <div class="contextMenuItem" @click="expandAll">
              展开全部
            </div>
            <div class="contextMenuItem" @click="foldAll">
              折叠全部
            </div>
            <div class="contextMenuItem" @click="expandToLevel(index)"
                 v-for="(level, index) in levels" :key="level">
              展开到第 {{ level }} 级
            </div>
          </template>
        </div>

      </div>

    </div>
    <div id="mindMapContainer"
         class="absolute"
         style="margin: 0; padding: 0; width: 1000px; height: 100%">
    </div>
    <div class="contextMenu rounded-md shadow-lg px-4 py-2"
         v-if="menuShow"
         :style="{ left: menuLeft + 'px', top: menuTop + 'px' }">
      <template v-if="clickType === 'node'">
        <div class="contextMenuItem" @click="copy">复制</div>
        <div class="contextMenuItem" @click="cut">剪切</div>
        <div class="contextMenuItem" @click="paste">粘贴</div>
        <div class="contextMenuItem" @click="delNode">删除</div>
      </template>
      <template v-if="clickType === 'svg'">
        <!-- 点击空白区域后召出的菜单 -->
      </template>
    </div>
  </div>
</template>

<script>
import { defineComponent, onMounted, ref, shallowRef } from 'vue'
import MindMap from 'simple-mind-map'
import Drag from 'simple-mind-map/src/Drag.js'
import bus from 'vue3-eventbus'

export default defineComponent({
  setup () {
    /* eslint-disable */
    const data = ref({
      data: {
        text: 'null'
      },
      children: []
    })
    const activeNodes = shallowRef([])
    // 实现右键菜单需要的位置数据
    const clickType = ref('')
    const clickNode = shallowRef(null)
    const menuLeft = ref(0)
    const menuTop = ref(0)
    const menuShow = ref(false)
    const mousedownX = ref(0)
    const mousedownY = ref(0)
    const isMousedown = ref(false)

    const zoomLevel = ref(100)

    const dropdownType = ref('')
    const dropdownShow = ref(false)
    const levels = ['一', '二', '三', '四', '五', '六']
    const structures = ['思维导图', '逻辑结构图', '目录组织图', '时间轴', '鱼骨图']
    const structuresName = ['mindMap', 'logicalStructure', 'catalogOrganization', 'timeline', 'fishbone']

    let ficTree = null
    let copyData = null

    onMounted(() => {
      MindMap.usePlugin(Drag)
      MindMap.defineTheme('ficTheme', {
        backgroundColor: '',
      })
      ficTree = new MindMap({
        el: document.getElementById('mindMapContainer'),
        theme: 'ficTheme',
        data: {
          data: {
            text: '根节点'
          },
          children: [
            {
              data: {
                text: '二级节点'
              },
              children: []
            }
          ]
        },
        mousewheelAction: 'zoom',
        mousewheelMoveStep: 100,
        initRootNodePosition: ['left', 'center']
      })
      ficTree.setThemeConfig({
        lineStyle: 'curve'
      })

      ficTree.on('node_active', (node, nodeList) => {
        activeNodes.value = nodeList
      })
      ficTree.on('data_change', (data, dataList) => {
        ficTree.resize()
        // ficTree.view.reset()
        // console.log(ficTree.getData(false))
        const newData = {
          data: ficTree.getData(false)
        }
        bus.emit('saveChangeMindUI', newData)
      })
      ficTree.on('scale', (scaleLevel) => {
        zoomLevel.value = Math.round(scaleLevel * 100)
      })

      ficTree.keyCommand.addShortcut('Control+c', copy)
      ficTree.keyCommand.addShortcut('Control+v', paste)
      ficTree.keyCommand.addShortcut('Control+x', cut)
      ficTree.keyCommand.addShortcut('Delete', delNode)
      ficTree.keyCommand.removeShortcut('Enter')
      ficTree.keyCommand.removeShortcut('Tab')

      // 实现右键菜单
      ficTree.on('node_contextmenu', (e, node) => {
        clickType.value = 'node'
        menuLeft.value = e.clientX + 10
        menuTop.value = e.clientY + 10
        menuShow.value = true
        clickNode.value = node
        // console.log(e.clientX)
      })

      ficTree.on('mouseup', (e) => {
        if (!isMousedown.value) {
          return
        }
        isMousedown.value = false
        // 如果鼠标松开和按下的距离大于 3 ，则不认为是点击事件
        if (Math.abs(mousedownX.value - e.clientX) > 3 ||
            Math.abs(mousedownY.value - e.clientY) > 3) {
          hide()
          return
        }
        clickType.value = 'svg'
        menuLeft.value = e.clientX + 10
        menuTop.value = e.clientY + 10
        menuShow.value = true
      })

      ficTree.on('node_click', hide)
      ficTree.on('draw_click', hide)
      ficTree.on('expand_btn_click', hide)

      // 监听data变化
      bus.on('sendToFicTree', (obj) => {
        // getData(obj).then(drawFicTree)
        // console.log(test)
        // console.log(JSON.parse(JSON.stringify(obj)))
        ficTree.setData(JSON.parse(JSON.stringify(obj)))
        ficTree.render()
      })
    })

    // bus.emit('saveChangeMindUI', msg[0])

    // Tools
    const hide = () => {
      menuShow.value = false
      dropdownShow.value = false
      menuLeft.value = 0
      menuTop.value = 0
      clickType.value = ''
      dropdownType.value = ''
    }

    function copy () {
      // console.log("successfully copy!")
      copyData = ficTree.renderer.copyNode()
      hide()
    }
    function cut () {
      ficTree.execCommand('CUT_NODE', _copyData => {
        copyData = _copyData
      })
      hide()
    }
    function paste () {
      ficTree.execCommand('PASTE_NODE', copyData)
      hide()
    }

    function delNode () {
      ficTree.execCommand('REMOVE_NODE')
      hide()
    }

    function enlarge () {
      if (zoomLevel.value <= 990) {
        zoomLevel.value += 10
        ficTree.view.setScale(zoomLevel.value / 100)
      }
    }

    function narrow () {
      if (zoomLevel.value >= 20) {
        zoomLevel.value -= 10
        ficTree.view.setScale(zoomLevel.value / 100)
      }
    }

    function backToCenter () {
      ficTree.view.reset()
    }

    function selectStructure (event) {
      menuLeft.value = event.clientX + 10
      menuTop.value = event.clientY + 10
      dropdownShow.value = !dropdownShow.value
      dropdownType.value = 'structure'
    }

    function selectLevel (event) {
      menuLeft.value = event.clientX + 10
      menuTop.value = event.clientY + 10
      dropdownShow.value = !dropdownShow.value
      dropdownType.value = 'level'
    }

    function setStructure (index) {
      ficTree.setLayout(structuresName[index])
      hide()
    }

    function expandToLevel (index) {
      ficTree.execCommand('UNEXPAND_TO_LEVEL', index + 1)
      hide()
    }

    function expandAll () {
      ficTree.execCommand('EXPAND_ALL')
      hide()
    }

    function foldAll () {
      ficTree.execCommand('UNEXPAND_ALL')
      hide()
    }

    function exportImg (type) {
      /* eslint-disable */
      const lnk = document.createElement('a')
      let e
      lnk.download = 'FicusTree.png'
      lnk.href = ficTree.export(type, true, 'FicusTree')
      /// create a "fake" click-event to trigger the download
      if (document.createEvent) {
        e = document.createEvent('MouseEvents')
        e.initMouseEvent(
          'click',
          true,
          true,
          window,
          0,
          0,
          0,
          0,
          0,
          false,
          false,
          false,
          false,
          0,
          null
        )
        lnk.dispatchEvent(e)
      }
    }

    bus.on('exportTreePNG', () => {
      exportImg('png')
    })

    return {
      data,
      ficTree,
      menuLeft,
      menuTop,
      menuShow,
      clickNode,
      clickType,
      copy,
      cut,
      paste,
      delNode,
      zoomLevel,
      enlarge,
      narrow,
      backToCenter,
      dropdownType,
      dropdownShow,
      selectStructure,
      selectLevel,
      levels,
      structures,
      setStructure,
      expandToLevel,
      expandAll,
      foldAll
    }
  }
})
</script>

<style>
.contextMenu {
  position: fixed;
  z-index: 999;
  background: #fff;
}

.contextMenuItem {
  cursor: pointer;
  font-size: 14px;
  padding-bottom: 4px;
}

.contextMenuItem:hover {
  font-weight: 900;
  color: #42b983;
}

.littleSidebar {
  z-index: 999;
  width: 60px;
  left: 280px;
  top: 300px;
}

.littleSidebarItem {
  padding: 2px;
  font-size: 12px;
}

.littleSidebarIcon path {
  fill: #878E97;
}

.littleSidebarIcon:hover path {
  fill: #42b983;
  -webkit-transition: fill .3s;
  -webkit-transition:left .3s, fill .3s;
}

.littleSidebarIcon:active path {
  fill: #3D3D3D;
  -webkit-transition: fill .3s;
  -webkit-transition:left .3s, fill .3s;
}
</style>